-- Create "omnitrails" table
CREATE TABLE `omnitrails` (`id` char(36) NOT NULL, `attestation_omnitrail` char(36) NOT NULL, PRIMARY KEY (`id`), UNIQUE INDEX `attestation_omnitrail` (`attestation_omnitrail`), CONSTRAINT `omnitrails_attestations_omnitrail` FOREIGN KEY (`attestation_omnitrail`) REFERENCES `attestations` (`id`) ON UPDATE NO ACTION ON DELETE NO ACTION) CHARSET utf8mb4 COLLATE utf8mb4_bin;
-- Create "mappings" table
CREATE TABLE `mappings` (`id` char(36) NOT NULL, `path` varchar(255) NOT NULL, `type` varchar(255) NOT NULL, `sha1` varchar(255) NOT NULL, `sha256` varchar(255) NOT NULL, `gitoid_sha1` varchar(255) NOT NULL, `gitoid_sha256` varchar(255) NOT NULL, `omnitrail_mappings` char(36) NOT NULL, PRIMARY KEY (`id`), INDEX `mappings_omnitrails_mappings` (`omnitrail_mappings`), CONSTRAINT `mappings_omnitrails_mappings` FOREIGN KEY (`omnitrail_mappings`) REFERENCES `omnitrails` (`id`) ON UPDATE NO ACTION ON DELETE NO ACTION) CHARSET utf8mb4 COLLATE utf8mb4_bin;
-- Create "posixes" table
CREATE TABLE `posixes` (`id` char(36) NOT NULL, `atime` varchar(255) NOT NULL, `ctime` varchar(255) NOT NULL, `creation_time` varchar(255) NOT NULL, `extended_attributes` varchar(255) NOT NULL, `file_device_id` varchar(255) NOT NULL, `file_flags` varchar(255) NOT NULL, `file_inode` varchar(255) NOT NULL, `file_system_id` varchar(255) NOT NULL, `file_type` varchar(255) NOT NULL, `hard_link_count` varchar(255) NOT NULL, `mtime` varchar(255) NOT NULL, `metadata_ctime` varchar(255) NOT NULL, `owner_gid` varchar(255) NOT NULL, `owner_uid` varchar(255) NOT NULL, `permissions` varchar(255) NOT NULL, `size` varchar(255) NOT NULL, `mapping_posix` char(36) NOT NULL, PRIMARY KEY (`id`), INDEX `posixes_mappings_posix` (`mapping_posix`), CONSTRAINT `posixes_mappings_posix` FOREIGN KEY (`mapping_posix`) REFERENCES `mappings` (`id`) ON UPDATE NO ACTION ON DELETE NO ACTION) CHARSET utf8mb4 COLLATE utf8mb4_bin;
