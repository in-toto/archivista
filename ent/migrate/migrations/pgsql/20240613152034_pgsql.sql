-- Create "omnitrails" table
CREATE TABLE "omnitrails" ("id" uuid NOT NULL, "attestation_omnitrail" uuid NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "omnitrails_attestations_omnitrail" FOREIGN KEY ("attestation_omnitrail") REFERENCES "attestations" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION);
-- Create index "omnitrails_attestation_omnitrail_key" to table: "omnitrails"
CREATE UNIQUE INDEX "omnitrails_attestation_omnitrail_key" ON "omnitrails" ("attestation_omnitrail");
-- Create "mappings" table
CREATE TABLE "mappings" ("id" uuid NOT NULL, "path" character varying NOT NULL, "type" character varying NOT NULL, "sha1" character varying NOT NULL, "sha256" character varying NOT NULL, "gitoid_sha1" character varying NOT NULL, "gitoid_sha256" character varying NOT NULL, "omnitrail_mappings" uuid NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "mappings_omnitrails_mappings" FOREIGN KEY ("omnitrail_mappings") REFERENCES "omnitrails" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION);
-- Create "posixes" table
CREATE TABLE "posixes" ("id" uuid NOT NULL, "atime" character varying NOT NULL, "ctime" character varying NOT NULL, "creation_time" character varying NOT NULL, "extended_attributes" character varying NOT NULL, "file_device_id" character varying NOT NULL, "file_flags" character varying NOT NULL, "file_inode" character varying NOT NULL, "file_system_id" character varying NOT NULL, "file_type" character varying NOT NULL, "hard_link_count" character varying NOT NULL, "mtime" character varying NOT NULL, "metadata_ctime" character varying NOT NULL, "owner_gid" character varying NOT NULL, "owner_uid" character varying NOT NULL, "permissions" character varying NOT NULL, "size" character varying NOT NULL, "mapping_posix" uuid NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "posixes_mappings_posix" FOREIGN KEY ("mapping_posix") REFERENCES "mappings" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION);
